<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:cc="http://xmlns.jcp.org/jsf/composite"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

	<p:dataTable value="#{deliveries}" var="delivery">
  		<p:column headerText="Code">
  			<h:outputText value="#{delivery.code}" />
  		</p:column>
  		<p:column headerText="Camion">
  			<h:outputText value="#{delivery.truck}" />
  		</p:column>
  		
  		<p:column headerText="Poids à vide avant chargement">
  			<h:outputText value="#{delivery.getTaskAt(0).weightInKiloGram}" />
  		</p:column>
  		<p:column headerText="Chargement">
  			<h:outputText value="#{delivery.getTaskAt(1).product}" />
  		</p:column>
  		<p:column headerText="Conducteur">
  			<h:outputText value="#{delivery.driver.person.firstName} #{delivery.driver.person.lastNames}" />
  		</p:column>
  		<p:column headerText="Destination">
  			<h:outputText value="#{delivery.getTaskAt(1).unloadingPlace}" />
  		</p:column>
  		<p:column headerText="Poids après chargement">
  			<h:outputText value="#{delivery.getTaskAt(2).weightInKiloGram}" />
  		</p:column>
  		<p:column headerText="Poids avant déchargement">
  			<h:outputText value="#{delivery.getTaskAt(5).weightInKiloGram}" />
  		</p:column>
  		<p:column headerText="Poids à vide après déchargement">
  			<h:outputText value="#{delivery.getTaskAt(7).weightInKiloGram}" />
  		</p:column>
  		<p:column headerText="Actions">
  			<p:commandButton value="Détails" icon="fa fa-eye" action="#{deliveriesController.showDialog(delivery)}"/>
  		</p:column>
  	</p:dataTable>	

</ui:composition>